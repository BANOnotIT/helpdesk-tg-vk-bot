# Что происходит в base.py?

Что это за мистический модуль под названием _base_? Он лежит в одной папке с _vk.py_ и _tg.py_, может, он имеет с ними что-то общее? Сейчас разберемся.

## Для чего нужен этот модуль?

![Наследование и полиморфизм в модулях](https://pp.userapi.com/c849036/v849036073/c46e7/oyiGNvX52vo.jpg)

Существует несколько способов связаться с нашим чат-ботом: можно написать ему ВКонтакте, можно написать ему в Telegram. Большинство операций, производимых над сообщениями, одинаковы как для сообщений из Telegram, так и для ВКонтакте или других потенциальных платформ. Модуль _base_ является _обобощенной_ версией _посредников_ между нашим ботом и различными _платформами_, на которых пользователи будут общаться с ним. Этот модуль нужен для того, чтобы мы могли работать с сообщениями с разных платформ одинаково, независимо от того, откуда они пришли нашему боту.

Говоря простым языком, этот модуль является _упрощенным чертежем для моста_. Допустим, мы находимся на острове, который называется _Чат-Бот_. С этого острова нам надо наладить отношения со страной _ВКонтактией_, страной _Телеграмией_, а в будущем, возможно, и другими странами. Для этого нам нужно построить мосты. Вместо того, чтобы проектировать заново каждый из этих мостов, мы просто находим общие качества, которые нам нужны от этих мостов для налаживания отношений, и делаем упрощенный чертеж, которого нам будет достаточно для того, чтобы знать, что с ними делать дальше. А уже после этого наши инженеры построят мост в каждую из этих стран с учетом всех деталей. Как результат - по каждому из этих мостов мы можем одинаково ездить в разные страны и не думать об отличиях в их конструкции.

## Что есть в этом модуле?

### Класс `Api`
Этот класс сделан в целях _совместимости_ различных классов-наследников.

Такой класс должен представлять из себя _модель_ сервиса для _получения и отправки_ сообщений пользователям. Конкретно в этом классе такой функционал _не реализован_, но если вы заглянете в другие модули, например, в _vk.py_, то увидете, что класс-наследник _vk.VkApi_ эти функции очень даже предоставляет.

##### Внутри класса _Api_ реализованы:

#### Прообраз метода _get_message_()
Реализация этого метода должна _получать сообщения_ от пользователей.

#### Прообраз метода _message_()
Реализация этого метода должна _отправлять сообщения_ пользователям.

Несмотря на то, что эти методы _объявлены_ в классе _Api_, попытка вызвать любой из них закончится ошибкой "_not implemented_",  то есть "_не реализовано_". Эти методы сделаны лишь для обеспечения совместимости наследуемых классов, то есть чтобы с разными наследниками класса _Api_ можно было работать одинаково, как с самим _Api_. Нужный фукционал этих методов должен быть _реализован_ уже в самих классах-наследниках.

### Класс _Message_
Этот класс сделан в целях _совместимости_ различных классов-наследников.

Класс _Message_ является _общей_ частичной _моделью_ сообщения, с которым должен работать наш чат-бот. Если вы загляните в другие модули, например, в _vk.py_, то увидите, что класс-наследник _vk.VkMessage_ является уже моделью конкретно _сообщений ВКонтакте_.

##### Внутри класса `Message` реализованы:

#### Свойство `text`
Текст сообщения.

#### Свойство `user`
Автор сообщения.

#### Свойство `kind`
Тип сообщения.

#### Свойство _chat_
Чат, в который отправлено сообщение.

#### Метод `__repr__`()
Этот метод представлет информацию о сообщении в виде строки формата "Сообщение _<типа>_ от _<отправителя>_: _<текст сообщения>_". _Результат_ выполнения - эта строка.

#### Прообраз метода _reply_()
Несмотря на то, что этот метод _объявлен_ в классе _Message_, попытка его вызвать закончится ошибкой "_not implemented_",  то есть "_не реализовано_". Этот метод сделан лишь для обеспечения совместимости наследуемых классов, то есть чтобы с разными наследниками класса _Message_ можно было работать одинаково, как с самим _Message_.
